matches:
  # ==============================================================================
  # Bash Scripts
  # ==============================================================================
  # ADD SSH
  - trigger: ':ssh qasoft'
    replace: 'eval $(ssh-agent -s) && ssh-add ~/.ssh/id_ttndev_qasoft'
  - trigger: ':ssh personal'
    replace: 'eval $(ssh-agent -s) && ssh-add ~/.ssh/id_ttndev_personal'
  - trigger: ':ssh school'
    replace: 'eval $(ssh-agent -s) && ssh-add ~/.ssh/id_ttndev_school'
  - trigger: ':add node'
    replace: 'export NODE_OPTIONS=--max-old-space-size=8192'



  # ==============================================================================
  # Linux commands
  # ==============================================================================
  # Install phpenv
  - trigger: ":linux i phpenv"
    replace: |
      sudo apt update && \
      sudo apt install -y git build-essential libssl-dev libcurl4-openssl-dev libxml2-dev libjpeg-dev libpng-dev libfreetype6-dev libbz2-dev libreadline-dev libonig-dev && \
      git clone https://github.com/phpenv/phpenv.git ~/.phpenv && \
      echo 'export PATH="$HOME/.phpenv/bin:$PATH"' >> ~/.bashrc && \
      echo 'eval "$(phpenv init -)"' >> ~/.bashrc && \
      source ~/.bashrc && \
      git clone https://github.com/php-build/php-build.git ~/.phpenv/plugins/php-build && \
      phpenv -v

  # Install Composer
  - trigger: ":linux i composer"
    replace: |
      sudo apt update && \
      sudo apt install php-cli unzip && \
      cd ~ && \
      curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php && \
      HASH=`curl -sS https://composer.github.io/installer.sig` && \
      php -r "if (hash_file('SHA384', '/tmp/composer-setup.php') === '$HASH') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;" && \
      sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer && \
      composer

  - trigger: ":linux show group"
    replace: "getent group <group_name>"
  
  - trigger: ":linux show group"
    replace: "getent group <group_name>"
  
  - trigger: ":linux user pass"
    replace: "getent passwd <user_name>"
  
  - trigger: ":linux add user"
    replace: "sudo adduser <user_name>"
  
  - trigger: ":linux add user"
    replace: "sudo usermod -aG docker <user_name>"
  
  - trigger: ":linux clean"
    replace: |
      sudo apt autoremove -y && sudo apt autoclean && sudo apt clean && \
      sudo apt --purge autoremove && sudo journalctl --vacuum-time=3d && \
      sudo rm -rf /var/log/*.gz /var/log/*.[0-9]

