matches:
  - trigger: ':linux list'
    replace: |
      li clean
      ssh qasoft
      ssh personal
      ssh school
      li gr show
      li ur pass
      li ur add
      li i zsh
      li i phpenv
      li i composer

  # ==============================================================================
  # Memory
  # ==============================================================================
  - trigger: ':li clean'
    replace: |
      sudo apt autoremove -y && sudo apt autoclean && sudo apt clean && \
      sudo apt --purge autoremove && sudo journalctl --vacuum-time=3d && \
      sudo rm -rf /var/log/*.gz /var/log/*.[0-9]
 
  - trigger: ':li size'
    replace: 'du -sh * | sort -rh'

  # ==============================================================================
  # SSH
  # ==============================================================================
  - trigger: ':ssh qasoft'
    replace: 'eval $(ssh-agent -s) && ssh-add ~/.ssh/id_ttndev_qasoft'
 
  - trigger: ':ssh personal'
    replace: 'eval $(ssh-agent -s) && ssh-add ~/.ssh/id_ttndev_personal'
 
  - trigger: ':ssh school'
    replace: 'eval $(ssh-agent -s) && ssh-add ~/.ssh/id_ttndev_school'

  # ==============================================================================
  # Permissions
  # ==============================================================================
  - trigger: ':li gr show'
    replace: 'getent group <group_name>'

  - trigger: ':li ur pass'
    replace: 'getent passwd <user_name>'

  - trigger: ':li ur add'
    replace: 'sudo usermod -aG docker <user_name>'

  # ==============================================================================
  # Packages Installation
  # ==============================================================================
  # Install phpenv
  - trigger: ':li i zsh'
    replace: 'mkdir -p ~/.zsh && git clone https://github.com/zsh-users/zsh-autosuggestions ~/.zsh/zsh-autosuggestions && source ~/.zshrc'

  # Install phpenv
  - trigger: ':li i phpenv'
    replace: |
      sudo apt update && \
      sudo apt install -y git build-essential libssl-dev libcurl4-openssl-dev libxml2-dev libjpeg-dev libpng-dev libfreetype6-dev libbz2-dev libreadline-dev libonig-dev && \
      git clone https://github.com/phpenv/phpenv.git ~/.phpenv && \
      echo 'export PATH="$HOME/.phpenv/bin:$PATH"' >> ~/.bashrc && \
      echo 'eval "$(phpenv init -)"' >> ~/.bashrc && \
      source ~/.bashrc && \
      git clone https://github.com/php-build/php-build.git ~/.phpenv/plugins/php-build && \
      phpenv -v

  # Install Composer
  - trigger: ':li i composer'
    replace: |
      sudo apt update && \
      sudo apt install php-cli unzip && \
      cd ~ && \
      curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php && \
      HASH=`curl -sS https://composer.github.io/installer.sig` && \
      php -r "if (hash_file('SHA384', '/tmp/composer-setup.php') === '$HASH') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;" && \
      sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer && \
      composer
